<div class="container">
  <div class="d-flex justify-content-between">
    <h3>All Categories</h3>
    <%= link_to 'Sign out', destroy_user_session_path, method: :delete %>
  </div>

  <div class="categories">
    <% @groups.each_with_index do |cat, index|%>
      <%= link_to group_path(cat) do %>
        <div class="category card mb-3">
          <div class="row g-0">
             <div class="col-md-4">
             <%= image_tag(cat.icon, class: "img-fluid", alt: cat.name, style: "height: 100px; width:100px;") if cat.icon.attached? %>
        </div>
            <div class="col-md-8">
              <div class="card-body text-dark">
                <div class="d-flex justify-content-between">
                  <h5 class="card-title"><%= cat.name %></h5>
                <p class="card-text">Amount: $<%= @totals[index] || 0 %></p>
                </div>
                <div>
                  <p class="card-text text-left"><%= cat.created_at.strftime("%d %B %Y") %></p>
                </div>
              </div>
            </div>
          </div>
        </div>
      <% end %>

    <% end %>
  </div>

  <div class="text-center mt-3">
    <%= link_to 'Add A New Category', new_group_path, class: "btn btn-primary" %>
  </div>
</div>
